<mujoco model="Phybot_Racing_Version">
  <compiler angle="radian" meshdir="../new_meshes/" autolimits="true"/>
  <option timestep="0.002" iterations='10' solver='PGS' gravity='0 0 -9.81' apirate='1000'>
  </option>
  <size njmax="500" nconmax="100" />
  <default>
      <geom  condim='4' solref='0.001 2' friction='1.0 0.5 0.5'/>
      <equality solref='0.001 2'/>
  </default>  
  <visual>
      <quality shadowsize='4096'/>
      <map force="0.1" zfar="30" znear='0.05'/>
      <rgba haze="0.15 0.25 0.35 1"/>
      <global offwidth="2560" offheight="1440" elevation="-20" azimuth="120"/>
  </visual>
  <default>
      <default class="phybot">
          <joint damping="1" armature="0.1"/>
          <default class="visual">
              <geom type="mesh" contype="0" conaffinity="0" group="2" />
          </default>
          <default class="collision">
              <geom group="3" mass="0" density="0" friction="1.0 0.1 0.1" />
              <default class="base_collision">
                  <geom type="capsule" size=".014" />
              </default>
          </default>
          <site size="0.001" rgba="0.5 0.5 0.5 0.3" group="4"/>
      </default>
  </default>
  <asset>
      <texture type="skybox" builtin="gradient" rgb1=".3 .5 .7" rgb2="0 0 0" width="32" height="512"/>
      <texture name="body" type="cube" builtin="flat" mark="cross" width="128" height="128" rgb1="0.8 0.6 0.4" rgb2="0.8 0.6 0.4" markrgb="1 1 1" random="0.01"/>
      <material name="body" texture="body" texuniform="true" rgba="0.8 0.6 .4 1"/>
      <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1=".1 .2 .3" rgb2=".2 .3 .4"/>
      <material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance="0.02"/>
  </asset>
  <asset>
    <mesh name="base_link" file="base_link.STL"/>
    <mesh name="left_hip_pitch" file="left_hip_pitch.STL"/>
    <mesh name="left_hip_roll" file="left_hip_roll.STL"/>
    <mesh name="left_hip_yaw" file="left_hip_yaw.STL"/>
    <mesh name="left_knee" file="left_knee.STL"/>
    <mesh name="left_ankle_pitch" file="left_ankle_pitch.STL"/>
    <mesh name="right_hip_pitch" file="right_hip_pitch.STL"/>
    <mesh name="right_hip_roll" file="right_hip_roll.STL"/>
    <mesh name="right_hip_yaw" file="right_hip_yaw.STL"/>
    <mesh name="right_knee" file="right_knee.STL"/>
    <mesh name="right_ankle_pitch" file="right_ankle_pitch.STL"/>
    <mesh name="waist_yaw" file="waist_yaw.STL"/>
    <mesh name="torso" file="torso.STL"/>
    <mesh name="left_shoulder_pitch" file="left_shoulder_pitch.STL"/>
    <mesh name="left_shoulder_roll" file="left_shoulder_roll.STL"/>
    <mesh name="left_elbow_pitch" file="left_elbow_pitch.STL"/>
    <mesh name="right_shoulder_pitch" file="right_shoulder_pitch.STL"/>
    <mesh name="right_shoulder_roll" file="right_shoulder_roll.STL"/>
    <mesh name="right_elbow_pitch" content_type="model/stl" file="right_elbow_pitch.STL"/>
    <texture builtin="gradient" height="100" rgb1=".4 .5 .6" rgb2="0 0 0" type="skybox" width="100"/>
    <texture name="texplane" type="2d" builtin="checker" rgb1=".2 .3 .4" rgb2=".1 0.15 0.2" width="100" height="100"/>
    <material name="MatPlane" reflectance="0.5" texture="texplane" texrepeat="1 1" texuniform="true"/>
  </asset>

  <worldbody>
    <geom name="floor" friction="1 1. 1." pos="0 0 0.0" size="50 50 0.125" type="plane" material="MatPlane" condim="3" conaffinity="1" contype="1" group="2" rgba="0.8 0.9 0.8 1"></geom>
    <light cutoff="100" diffuse="1 1 1" dir="-0 0 -1.3" directional="true" exponent="1" pos="0 0 1.3" specular=".1 .1 .1" castshadow="false"/>
    <body name="base_link" pos="0 -2.0 1.3" euler="0 0 1.5708" childclass="phybot" >
      <inertial pos="0.011086 -0.082917 -1.3526e-05" quat="0.706851 0.707347 0.00390062 -0.00260576" mass="10.4856" diaginertia="0.0677265 0.0568036 0.0382288"/>
      <joint name="floating_base_joint" type="free" limited="false" actuatorfrclimited="false"/>
      <geom name="base_link_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 0.4 1 1" mesh="base_link"/>
      <geom name="base_link_collision" type="mesh" rgba="1 0.4 1 1" mesh="base_link"/>

      <body name="left_hip_pitch" pos="0.01125 0.094397 -0.10771" quat="0.965926 -0.25882 0 0">
        <inertial pos="0.00401971 0.0310014 -6.87466e-05" quat="0.106248 0.700556 0.250818 0.659563" mass="0.441188" diaginertia="0.001105 0.00102061 0.000726705"/>
        <joint name="left_hip_pitch" pos="0 0 0" axis="0 1 0" range="-2.62 2.62" actuatorfrcrange="-300 300"/>
        <geom name="left_hip_pitch_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 0.4 1 1" mesh="left_hip_pitch"/>
        <geom name="left_hip_pitch_collision" type="mesh" rgba="1 0.4 1 1" mesh="left_hip_pitch"/>

        <body name="left_hip_roll" pos="0 0.0605 0" quat="0.965926 0.25882 0 0">
          <inertial pos="0.00105614 -5.05907e-06 -0.0146043" quat="0.705025 0.00467927 0.00469168 0.709151" mass="1.71479" diaginertia="0.00353147 0.00349571 0.00170344"/>
          <joint name="left_hip_roll" pos="0 0 0" axis="1 0 0" range="-0.17 1.92" actuatorfrcrange="-108 108"/>
          <geom name="left_hip_roll_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.866667 0.866667 0.890196 1" mesh="left_hip_roll"/>
          <geom name="left_hip_roll_collision" type="mesh" rgba="0.866667 0.866667 0.890196 1" mesh="left_hip_roll"/>

          <body name="left_hip_yaw" pos="0 0 -0.1285">
            <inertial pos="0.000716523 0.0116959 -0.157475" quat="0.705695 -0.00192714 0.00508226 0.708495" mass="6.93506" diaginertia="0.0524892 0.0470549 0.0118339"/>
            <joint name="left_hip_yaw" pos="0 0 0" axis="0 0 1" range="-1.57 1.57" actuatorfrcrange="-60 60"/>
            <geom name="left_hip_yaw_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.960784 0.960784 0.960784 1" mesh="left_hip_yaw"/>
            <geom name="left_hip_yaw_collision" type="mesh" rgba="0.960784 0.960784 0.960784 1" mesh="left_hip_yaw"/>

            <body name="left_knee" pos="-0.02 0 -0.33733">
              <inertial pos="0.0221443 -0.00216023 -0.207751" quat="0.669041 -0.0041258 0.00740777 0.743177" mass="2.68828" diaginertia="0.036635 0.0357552 0.00199663"/>
              <joint name="left_knee" pos="0 0 0" axis="0 1 0" range="0 2.62" actuatorfrcrange="-500 500"/>
              <geom name="left_knee_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.866667 0.866667 0.890196 1" mesh="left_knee"/>
              <geom name="left_knee_collision" type="mesh" rgba="0.866667 0.866667 0.890196 1" mesh="left_knee"/>

              <body name="left_ankle_pitch" pos="0.02 0 -0.46">
                <inertial pos="0.0287831 -0.00116458 -0.0430321" quat="0.0561433 0.726754 0.0718116 0.680822" mass="1.30921" diaginertia="0.00716758 0.00690865 0.000747556"/>
                <joint name="left_ankle_pitch" pos="0 0 0" axis="0 1 0" range="-0.87 0.52" actuatorfrcrange="-60 60"/>
                <geom name="left_ankle_pitch_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.960784 0.960784 0.960784 1" mesh="left_ankle_pitch"/>
                <geom name="left_ankle_pitch_collision" type="mesh" rgba="0.960784 0.960784 0.960784 1" mesh="left_ankle_pitch"/>
              </body>
            </body>
          </body>
        </body>
      </body>
      <body name="right_hip_pitch" pos="0.01125 -0.094397 -0.10771" quat="0.965926 0.25882 0 0">
        <inertial pos="0.00401972 -0.0345014 6.87378e-05" quat="-0.11256 0.696609 -0.258274 0.659819" mass="0.441188" diaginertia="0.001105 0.00102063 0.000726701"/>
        <joint name="right_hip_pitch" pos="0 0 0" axis="0 1 0" range="-2.62 2.62" actuatorfrcrange="-300 300"/>
        <geom name="right_hip_pitch_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 0.4 1 1" mesh="right_hip_pitch"/>
        <geom name="right_hip_pitch_collision" type="mesh" rgba="1 0.4 1 1" mesh="right_hip_pitch"/>

        <body name="right_hip_roll" pos="0 -0.064 0" quat="0.965926 -0.25882 0 0">
          <inertial pos="0.00105614 -5.05914e-06 -0.0146043" quat="0.705025 0.00467927 0.00469168 0.709151" mass="1.71478" diaginertia="0.00353147 0.00349571 0.00170344"/>
          <joint name="right_hip_roll" pos="0 0 0" axis="1 0 0" range="-1.92 0.17" actuatorfrcrange="-108 108"/>
          <geom name="right_hip_roll_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.866667 0.866667 0.890196 1" mesh="right_hip_roll"/>
          <geom name="right_hip_roll_collision" type="mesh" rgba="0.866667 0.866667 0.890196 1" mesh="right_hip_roll"/>

          <body name="right_hip_yaw" pos="0 0 -0.1305">
            <inertial pos="0.000853659 -0.0115163 -0.155471" quat="0.712457 0.00628144 -0.00300463 0.701681" mass="6.93501" diaginertia="0.0524915 0.0471219 0.0118988"/>
            <joint name="right_hip_yaw" pos="0 0 0" axis="0 0 1" range="-1.57 1.57" actuatorfrcrange="-60 60"/>
            <geom name="right_hip_yaw_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.960784 0.960784 0.960784 1" mesh="right_hip_yaw"/>
            <geom name="right_hip_yaw_collision" type="mesh" rgba="0.960784 0.960784 0.960784 1" mesh="right_hip_yaw"/>

            <body name="right_knee" pos="-0.02 0 -0.33533">
              <inertial pos="0.0243302 -8.72789e-05 -0.203234" quat="0.743144 0.00740541 -0.00412822 0.669078" mass="2.68828" diaginertia="0.0366367 0.0357561 0.0019975"/>
              <joint name="right_knee" pos="0 0 0" axis="0 1 0" range="0 2.62" actuatorfrcrange="-300 300"/>
              <geom name="right_knee_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.866667 0.866667 0.890196 1" mesh="right_knee"/>
              <geom name="right_knee_collision" type="mesh" rgba="0.866667 0.866667 0.890196 1" mesh="right_knee"/>

              <body name="right_ankle_pitch" pos="0.020001 0 -0.46">
                <inertial pos="0.028783 0.00116463 -0.0430322" quat="-0.0561497 0.726754 -0.0718189 0.680821" mass="1.30921" diaginertia="0.00716758 0.00690864 0.000747552"/>
                <joint name="right_ankle_pitch" pos="0 0 0" axis="0 1 0" range="-0.87 0.52" actuatorfrcrange="-60 60"/>
                <geom name="right_ankle_pitch_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.960784 0.960784 0.960784 1" mesh="right_ankle_pitch"/>
                <geom name="right_ankle_pitch_collision" type="mesh" rgba="0.960784 0.960784 0.960784 1" mesh="right_ankle_pitch"/>
              </body>
            </body>
          </body>
        </body>
      </body>
      <body name="waist_yaw" pos="0.01125 0 0.0328">
        <inertial pos="0.00432721 -0.000102638 0.245283" quat="0.999995 0.000231874 -0.003107 9.08913e-06" mass="11.4237" diaginertia="0.226813 0.156516 0.109333"/>
        <joint name="waist_yaw" pos="0 0 0" axis="0 0 1" range="-1.57 1.57" actuatorfrcrange="-60 60"/>
        <geom name="waist_yaw_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 0.4 1 1" mesh="waist_yaw"/>
        <geom name="waist_yaw_collision" type="mesh" rgba="1 0.4 1 1" mesh="waist_yaw"/>
        <geom name="torso_visual" pos="-0.01125 0 0.1972" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 1 0.945098 1" mesh="torso"/>
        <geom name="torso_collision" pos="-0.01125 0 0.1972" type="mesh" rgba="1 1 0.945098 1" mesh="torso"/>

        <body name="left_shoulder_pitch" pos="0 0.13107 0.3264" quat="0.996195 -0.0871543 0 0">
          <inertial pos="5.7789e-05 0.0161199 6.31246e-05" quat="0.659319 0.709482 0.00821591 0.24873" mass="1.10191" diaginertia="0.000574078 0.000562475 8.10174e-05"/>
          <joint name="left_shoulder_pitch" pos="0 0 0" axis="0 1 0" range="-2.79 0.87" actuatorfrcrange="-60 60"/>
          <geom name="left_shoulder_pitch_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 1 0.945098 1" mesh="left_shoulder_pitch"/>
          <geom name="left_shoulder_pitch_collision" type="mesh" rgba="1 1 0.945098 1" mesh="left_shoulder_pitch"/>

          <body name="left_shoulder_roll" pos="0 0.081 0" quat="0.996195 0.0871543 0 0">
            <inertial pos="-0.000869419 0.0229893 -0.129966" quat="0.7188 0.0742049 -0.0493723 0.68948" mass="0.694153" diaginertia="0.00744402 0.00738845 0.00100261"/>
            <joint name="left_shoulder_roll" pos="0 0 0" axis="1 0 0" range="-0.17 3.14" actuatorfrcrange="-81 81"/>
            <geom name="left_shoulder_roll_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 0.4 1 1" mesh="left_shoulder_roll"/>
            <geom name="left_shoulder_roll_collision" type="mesh" rgba="1 0.4 1 1" mesh="left_shoulder_roll"/>

            <body name="left_elbow_pitch" pos="0.01 0.046885 -0.2659" quat="0.996195 0.0871543 0 0">
              <inertial pos="-0.0113763 -0.000169229 -0.205815" quat="0.705411 0.0536491 -0.0687772 0.703411" mass="0.716165" diaginertia="0.00949366 0.00944288 0.000426635"/>
              <joint name="left_elbow_pitch" pos="0 0 0" axis="0 1 0" range="-2.36 0" actuatorfrcrange="-47 47"/>
              <geom name="left_elbow_pitch_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0.0980392 0.0980392 0.0980392 1" mesh="left_elbow_pitch"/>
              <geom name="left_elbow_pitch_collision" type="mesh" rgba="0.0980392 0.0980392 0.0980392 1" mesh="left_elbow_pitch"/>
            </body>
          </body>
        </body>
        <body name="right_shoulder_pitch" pos="0 -0.13107 0.3264" quat="0.996195 0.0871543 0 0">
          <inertial pos="5.77777e-05 -0.0161199 -6.3122e-05" quat="0.526071 0.813193 0.0351876 -0.246433" mass="1.10191" diaginertia="0.00057408 0.000562471 8.10193e-05"/>
          <joint name="right_shoulder_pitch" pos="0 0 0" axis="0 1 0" range="-2.79 0.87" actuatorfrcrange="-60 60"/>
          <geom name="right_shoulder_pitch_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 1 0.945098 1" mesh="right_shoulder_pitch"/>
          <geom name="right_shoulder_pitch_collision" type="mesh" rgba="1 1 0.945098 1" mesh="right_shoulder_pitch"/>

          <body name="right_shoulder_roll" pos="0 -0.081 0" quat="0.996195 -0.0871543 0 0">
            <inertial pos="-0.000869025 -0.0229926 -0.129962" quat="0.688854 -0.04928 0.074219 0.719405" mass="0.694146" diaginertia="0.00744396 0.00738835 0.00100261"/>
            <joint name="right_shoulder_roll" pos="0 0 0" axis="1 0 0" range="-3.14 0.17" actuatorfrcrange="-81 81"/>
            <geom name="right_shoulder_roll_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="1 0.4 1 1" mesh="right_shoulder_roll"/>
            <geom name="right_shoulder_roll_collision" type="mesh" rgba="1 0.4 1 1" mesh="right_shoulder_roll"/>

            <body name="right_elbow_pitch" pos="0.01 -0.046885 -0.2659" quat="0.996195 -0.0871543 0 0">
              <inertial pos="-0.0113479 -0.000155007 -0.205816" quat="0.573089 -0.0620947 0.11457 0.809065" mass="1.46595" diaginertia="0.0241371 0.0239249 0.000745657"/>
              <joint name="right_elbow_pitch" pos="0 0 0" axis="0 1 0" range="-2.36 0" actuatorfrcrange="-47 47"/>
              <geom name="right_elbow_pitch_visual" type="mesh" contype="0" conaffinity="0" group="1" density="0" rgba="0 0 0 1" mesh="right_elbow_pitch"/>
              <geom name="right_elbow_pitch_collision" type="mesh" rgba="0 0 0 1" mesh="right_elbow_pitch"/>
            </body>
          </body>
        </body>
      </body>
      <body name="imu_link" pos="-0.0 0 0.0">
        <inertial pos="0 0 0" mass="0" diaginertia="0 0 0" />
        <geom class="visual" type="sphere" rgba="0.792157 0.819608 0.933333 1" size="0.02" />
        <site name="site_imu" pos="0.01 0 0" size='0.01 0.01 0.01' group="4"/>
      </body>  
    </body>
  </worldbody>
  <actuator>
      <motor name="left_hip_pitch" joint="left_hip_pitch" gear="1" ctrllimited="true" ctrlrange="-500 500" />
      <motor name="left_hip_roll" joint="left_hip_roll" gear="1" ctrllimited="true" ctrlrange="-200 200" />
      <motor name="left_hip_yaw" joint="left_hip_yaw" gear="1" ctrllimited="true" ctrlrange="-200 200" />
      <motor name="left_knee" joint="left_knee" gear="1" ctrllimited="true" ctrlrange="-500 500" />
      <motor name="left_ankle_pitch" joint="left_ankle_pitch" gear="1" ctrllimited="true" ctrlrange="-200.0 200.0" />
      <motor name="right_hip_pitch" joint="right_hip_pitch" gear="1" ctrllimited="true" ctrlrange="-500 500" />
      <motor name="right_hip_roll" joint="right_hip_roll" gear="1" ctrllimited="true" ctrlrange="-200 200" />
      <motor name="right_hip_yaw" joint="right_hip_yaw" gear="1" ctrllimited="true" ctrlrange="-200 200" />
      <motor name="right_knee" joint="right_knee" gear="1" ctrllimited="true" ctrlrange="-500 500" />
      <motor name="right_ankle_pitch" joint="right_ankle_pitch" gear="1" ctrllimited="true" ctrlrange="-200.0 200.0" />
      <motor name="waist_yaw" joint="waist_yaw" gear="1" ctrllimited="true" ctrlrange="-230 230" />
      <motor name="left_shoulder_pitch" joint="left_shoulder_pitch" gear="1" ctrllimited="true" ctrlrange="-200 200" />
      <motor name="left_shoulder_roll" joint="left_shoulder_roll" gear="1" ctrllimited="true" ctrlrange="-200 200" />
      <motor name="left_elbow_pitch" joint="left_elbow_pitch" gear="1" ctrllimited="true" ctrlrange="-58 58" />    
      <motor name="right_shoulder_pitch" joint="right_shoulder_pitch" gear="1" ctrllimited="true" ctrlrange="-200 200" />
      <motor name="right_shoulder_roll" joint="right_shoulder_roll" gear="1" ctrllimited="true" ctrlrange="-200 200" />
      <motor name="right_elbow_pitch" joint="right_elbow_pitch" gear="1" ctrllimited="true" ctrlrange="-58 58" />    
  </actuator>  
  <sensor>
      <accelerometer name="imu_acc"             site="site_imu" noise='0.005' cutoff='157'/>
      <framequat     name='orientation'         objtype='site'  noise='0.001' objname='site_imu'/>
      <framepos      name='position'            objtype='site'  noise='0.001' objname='site_imu'/>
      <gyro          name='angular-velocity'    site='site_imu' noise='0.005' cutoff='34.9'/>
      <velocimeter   name='linear-velocity'     site='site_imu' noise='0.001' cutoff='30'/>
      <magnetometer  name='magnetometer'        site='site_imu'/>
  </sensor>
</mujoco>
